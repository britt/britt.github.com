'use strict';

var _webpack = require('webpack');

var _webpack2 = _interopRequireDefault(_webpack);

var _webpack3 = require('./webpack.config');

var _webpack4 = _interopRequireDefault(_webpack3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = function (program, callback) {
  var directory = program.directory;

  // Build production js.

  var compilerConfig = (0, _webpack4.default)(program, directory, 'production');

  return (0, _webpack2.default)(compilerConfig.resolve()).run(function (err, stats) {
    return callback(err, stats);
  });
};