'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _binPublished = require('../../bin/published');

var _binPublished2 = _interopRequireDefault(_binPublished);

var libDirs = /(node_modules|bower_components)/i;
var gatsbyLib = /(gatsby.lib)/i;
// If installed globally, look for "dist" directory instead.
if (_binPublished2['default']) {
  gatsbyLib = /(gatsby.dist)/i;
}

exports['default'] = function (absPath) {
  var result = false;
  if (absPath.match(gatsbyLib)) {
    // There is a match, don't exclude this file.
    result = false;
  } else if (absPath.match(libDirs)) {
    // There is a match, do exclude this file.
    result = true;
  } else {
    result = false;
  }

  return result;
};

module.exports = exports['default'];